<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Yuji</title>
  <link rel="stylesheet" href="style-present.css">
  <audio id="bg-music" src="./asset/music.mp3" loop></audio>
</head>

<div id="fadeLayer" class="fade-to-white" style="display: none;"></div>

<body>

  <!-- Loading Screen -->
  <div class="loading-screen" id="loader">
    <img src="./asset/hachi.png" alt="loading" class="loading-img">
    <div class="dots">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </div>

  <!-- Present Reveal -->
  <div class="present-container" id="present">
    <img src="./asset/letter.png" alt="A Letter for You" class="present-img">
    <a href="https://drive.google.com/drive/folders/1-BTJTm3UFtwLnbwUsrERUBaoP5jyK-Z-?usp=sharing" target="_blank" class="download-btn">Download your gift</a>
  </div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
  setTimeout(() => {
  document.getElementById('loader').style.display = 'none';
  const fadeLayer = document.getElementById('fadeLayer');
  fadeLayer.style.display = 'block';

  const present = document.getElementById('present');
  present.style.display = 'flex';
  present.classList.add('reveal');
  document.body.style.overflow = 'auto';

  // Music
  const music = document.getElementById('bg-music');
  music.volume = 0.5;
  music.play().catch(() => {
    const btn = document.createElement('button');
    btn.textContent = "ðŸ”Š Tap to Play Music";
    btn.style = "margin-top: 20px; font-size: 1rem;";
    btn.onclick = () => {
      music.play();
      btn.remove();
    };
    present.appendChild(btn);
  });

  // ðŸŽ‰ Bigger Confetti
  for (let i = 0; i < 3; i++) {
    setTimeout(() => {
      confetti({
        particleCount: 200,
        spread: 500,
        startVelocity: 35,
        scalar: 1.2,
        origin: { y: 0.6 }
      });
    }, i * 400);
  }
}, 3000);
</script>

</body>
</html>
